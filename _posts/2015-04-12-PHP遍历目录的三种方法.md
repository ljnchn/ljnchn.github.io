---
layout: post
title: PHP遍历目录的三种方法
---
###第一种实现办法：用dir返回对象
{% highlight php %}
<?php 
function mydir($dir) 
    { 
        $mydir = dir($dir); 
        echo "<ul>"; 
        while($file = $mydir->read())
        { 
            if((is_dir("$dir/$file"))) 
            {
                echo "<li>$file</li>"; 
                tree("$directory/$file"); 
            } 
            elseif($file!=="."&$file!=="..") 
            echo "<li><a href='$dir/$file' target='_blank'>$file</a></li>"; 
        } 
        echo "</ul>"; 
        $mydir->close(); 
    } 
mydir(".");
?>
{% endhighlight %}
###第二种，使用readdir()函数
{% highlight php %}
<?php 
function listDir($dir)
{
    if(is_dir($dir))
    {
        if ($dh = opendir($dir)) 
        {
            while (($file = readdir($dh)) !== false)
            {
                if((is_dir($dir."/".$file)) && $file!="." && $file!="..")
                {
                    echo "<b><font color='red'>文件名：</font></b>",$file,"<br><hr>";
                    listDir($dir."/".$file."/");
                }
                else
                {
                    if($file!="." && $file!="..")
                    {
                        echo $file."<br>";
                    }
                }
            }
            closedir($dh);
        }
    }
}
listDir("./nowamagic");
?>
{% endhighlight %}
###第三种，使用scandir()函数
{% highlight php %}
<?php 
function mydir($dir)
{
    $mydir=scandir($dir);
    echo "<ul>";
    foreach ($mydir as $key => $value) {
        if ($value!='.'&&$value!='..') {
            if (is_dir($value)) {
                echo "<li class='dir'><span></span>$value</li>";
                mydir("$dir/$value");
            }else{
                echo "<li class='file'><span></span><a href='$dir/$value' target='_blank'>$value</a></li>";
            }
        }           
    }
    echo "</ul>";
}
mydir(".");
?>
{% endhighlight %}


